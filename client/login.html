<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-signin-client_id" content="109228043363-b4h794v27k5vgu1rqsllce6rm5278rqr.apps.googleusercontent.com">
    <title>Pet Detective</title>
    <!-- <link href="styles.css" rel="stylesheet"> -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto|Zilla+Slab" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
<style>
  body {
    background-color: green;
  }
  .rowLogin {
    border-style: solid;
    border-width: medium;
    border-color: white;
  }
</style>


  </head>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
        <a class="navbar-brand" href="#">
          <div style="font-size: 35px; margin-left: 17%; color: green">petdetective</div>
          <img alt="Brand" style="width: 20%; margin-top: -30px" src="https://www.shareicon.net/data/256x256/2015/10/10/653854_print_512x512.png">
        </a>
        </div>
      </div>

      <!--<div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">

      <li class="active"><div class="g-signin2" type="submit" data-theme="dark"></div></li>
      <li><a href="#" onclick="signOut();">Sign out</a></li>
      </ul>
      </div> -->
    </div>
  </nav>


<body>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-44"></div>
                <div style="max-width:80%; max-height: 500px; background-image: url('https://images.pexels.com/photos/162349/dog-hybrid-animal-lying-162349.jpeg?w=1260&h=750&auto=compress&cs=tinysrgb');background-position: center;background-repeat: no-repeat;background-size: cover; border-radius: 10px; padding: 50px; box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);" class="container-fluid">
                  <div class="rowLogin" style="margin-top: 0px;background: rgba(255,255,255,0.7)">
                    <span class="page-header" style="font-size: 35px; margin-left: 17%; color: black;" >
                                    <center><h1 style="font-family: 'Zilla Slab', serif;"><b>PET DETECTIVE!</b></h1></center>
                                    <center><h3 style="padding: 10px;font-family: 'Roboto', sans-serif;">Found a pet? Lost a pet? We can help!</h3></center>
                                    <center><h3 style="font-family: 'Roboto', sans-serif;">Login to get started!<h3></center>
                  </div>
                  <div class="row"></div>
                    <div class="container-fluid">
                        <div class="row">
                            <!--<div style="height: 500px" class="col-lg-12">-->
                          <span class="page-header">
                            <center><div class="col-md-4" style="padding: 0px;width: 100%">
                              <div class="g-signin2" type="submit" data-onsuccess="onSignIn" data-theme="light" style="position:relative"></div>
                              <script>
                                function onSignIn(googleUser) {
                                  // Useful data for your client-side scripts:
                                  const profile = googleUser.getBasicProfile();
                                  const email = profile.getEmail();
                                  localStorage.setItem('userProfile', JSON.stringify(profile));
                                  localStorage.setItem('userEmail', email);
                                  // The ID token you need to pass to your backend:
                                  let idtoken = googleUser.getAuthResponse().id_token;                                         
                                  $.ajax({
                                    method: "POST",
                                    url: "/tokensignin",
                                    data: { idtoken }
                                  })
                                    .done(function( msg ) {
                                      console.log( "Success: " + msg );
                                      let tokenObj = {token: msg};
                                      localStorage.setItem('tokenObj', JSON.stringify(tokenObj));
                                      // let clientToken = localStorage.getItem('tokenObj');
                                      // console.log(JSON.parse(clientToken));
                                      window.location.href = "/";
                                    });
                                }
                                </script>
                                </div></center>
                              </span>
                          </div>
                      </div>
                  </div>
              </div>
            <div class="col-md-4">
          </div>
      </div>
  </div>
  </body>
</html>
